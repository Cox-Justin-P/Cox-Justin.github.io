<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JavaScript Objects</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="object.css">
</head>
<body>
    <div id="header">
        <h1>Customize Your Laptop</h1>
    </div>
    <button type="button" id="budget-button" onclick="promptBudget()">Add Budget</button>
    <div id="content">
        <div id="laptop-specs">
            <h3>Specs</h3>
            <p>Ram</p>
            <select id="ram">
                <!-- TODO: ADD COST FOR SPECS-->
                <option value="0">Pick One</option>
                <option value="50">4 GB</option>
                <option value="100">8 GB</option>
                <option value="150">16 GB</option>
            </select>
            <p>Hard Drive</p>
            <select id="harddrive">
                <!-- TODO: ADD SSD AND HD PRICING -->
                <option value="0">Pick One</option>
                <option value="50">128 GB</option>
                <option value="100">256 GB</option>
                <option value="150">512 GB</option>
            </select>
        </div>
        <br><button type="button" onclick="updateBudget()">Add Specs</button><br>
        <h3>Budget</h3>
        <div id="laptop-budget">
        </div>
        <br><button type="button" onclick="completePurchase()">Purchase</button>
    </div>
    <script>

        // create the object
        let laptop = new Object();
        laptop.budget = 0;

        function promptBudget() {
            // prompt
            laptop.budget = window.prompt("Please Enter Your Budget");

            initializeBudget(laptop.budget);

            return laptop.budget;
        }

        function initializeBudget(budget) {
            // check the value
            console.log("Budget is: " + budget);

            // create html element
            let currentBudget = document.createElement('p');

            // assign the value
            currentBudget = budget;

            // append the value
            document.querySelector("#laptop-budget").append('$' + currentBudget);

            console.log(currentBudget);
        }

        function updateBudget() {
            // get select values
            let ramCost = document.getElementById("ram").value;
            let harddriveCost = document.getElementById("harddrive").value;

            //get select text
            let ramOption = ram.options[ram.selectedIndex];
            let harddriveOption = harddrive.options[harddrive.selectedIndex];
            laptop.ram = ramOption.text;
            laptop.harddrive = harddriveOption.text;

            // update budget
            laptop.budget -= ramCost;
            console.log("Ramcost here: " + ramCost);
            laptop.budget -= harddriveCost;

            console.log("HarddriveCost here: " + harddriveCost);
            console.log("Budget is now: " + laptop.budget);

            // update the budget div
            document.querySelector("#laptop-budget").innerHTML = '';
            document.querySelector("#laptop-budget").append('$' + laptop.budget);
        }

        function completePurchase() {
            // get select values
            let ramCost = document.getElementById("ram").value;
            let harddriveCost = document.getElementById("harddrive").value;
            window.alert("The laptop purchased has " + laptop.ram + " of ram and " +
                          laptop.harddrive + " of storage capacity which cost $" +
                          (Number(ramCost) + Number(harddriveCost)));
        }
    </script>
</body>
</html>
